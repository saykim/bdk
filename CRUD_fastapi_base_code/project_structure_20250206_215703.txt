í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ì½”ë“œ ëª¨ìŒ
==================================================
ìƒì„± ì‹œê°„: 2025-02-06 21:57:03
==================================================

[ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ]
ğŸ“„ .DS_Store
ğŸ“ app
    ğŸ“„ __init__.py
    ğŸ“„ database.py
    ğŸ“„ models.py
    ğŸ“ routers
        ğŸ“„ __init__.py
        ğŸ“„ posts.py
    ğŸ“„ schemas.py
    ğŸ“ static
        ğŸ“ css
            ğŸ“„ style.css
    ğŸ“ templates
        ğŸ“„ base.html
        ğŸ“„ create.html
        ğŸ“„ detail.html
        ğŸ“„ edit.html
        ğŸ“„ index.html
ğŸ“„ main.py
ğŸ“„ project_structure_20250206_215703.txt
ğŸ“„ readme.md
ğŸ“„ requirements.txt

==================================================
[ íŒŒì¼ë³„ ì½”ë“œ ]

[íŒŒì¼ ê²½ë¡œ: app/__init__.py]
```# Initialize FastAPI app package 
from . import models
from . import schemas
from . import database ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/database.py]
```from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker

SQLALCHEMY_DATABASE_URL = "sqlite:///./sql_app.db"

engine = create_engine(
    SQLALCHEMY_DATABASE_URL, connect_args={"check_same_thread": False}
)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

Base = declarative_base()

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close() ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/models.py]
```from sqlalchemy import Column, Integer, String, Text, DateTime, Index, text, Enum
from sqlalchemy.sql import func
from .database import Base
import enum
from datetime import datetime

class ProcessStatus(str, enum.Enum):
    PENDING = "ëŒ€ê¸°"
    IN_PROGRESS = "ì§„í–‰ì¤‘"
    COMPLETED = "ì™„ë£Œ"
    ISSUE = "ë¬¸ì œë°œìƒ"

class Post(Base):
    __tablename__ = "posts"

    id = Column(Integer, primary_key=True, index=True)
    title = Column(String(200), nullable=False)
    content = Column(Text, nullable=False)
    author = Column(String(100), nullable=False)
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, onupdate=datetime.utcnow)
    
    # ì¶”ê°€ í•„ë“œ
    category = Column(String(50), nullable=False, server_default="ì¼ë°˜")
    product_name = Column(String(100), nullable=True)
    process_step = Column(String(100), nullable=True)
    status = Column(String(20), nullable=False, server_default=ProcessStatus.PENDING.value)
    attachment_path = Column(String(500), nullable=True)

    # ê²€ìƒ‰ì„ ìœ„í•œ ì¸ë±ìŠ¤ ì¶”ê°€
    __table_args__ = (
        Index('idx_title_content', 'title', 'content'),
        Index('idx_author', 'author'),
    ) ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/routers/__init__.py]
```# Initialize routers package ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/routers/posts.py]
```from fastapi import APIRouter, Depends, HTTPException, status, Query
from sqlalchemy.orm import Session
from sqlalchemy import or_
from typing import List, Optional
from app import models, schemas
from app.database import get_db

router = APIRouter(
    prefix="/api/posts",
    tags=["posts"]
)

@router.post("/", response_model=schemas.Post, status_code=status.HTTP_201_CREATED)
def create_post(post: schemas.PostCreate, db: Session = Depends(get_db)):
    db_post = models.Post(**post.model_dump())
    db.add(db_post)
    db.commit()
    db.refresh(db_post)
    return db_post

@router.get("/", response_model=List[schemas.Post])
def read_posts(
    skip: int = 0,
    limit: int = 100,
    search: Optional[str] = Query(None, description="ê²€ìƒ‰ì–´ (ì œëª©, ë‚´ìš©)"),
    author: Optional[str] = Query(None, description="ì‘ì„±ì ê²€ìƒ‰"),
    db: Session = Depends(get_db)
):
    query = db.query(models.Post)
    
    if search:
        query = query.filter(
            or_(
                models.Post.title.contains(search),
                models.Post.content.contains(search)
            )
        )
    
    if author:
        query = query.filter(models.Post.author.contains(author))
    
    posts = query.offset(skip).limit(limit).all()
    return posts

@router.get("/{post_id}", response_model=schemas.Post)
def read_post(post_id: int, db: Session = Depends(get_db)):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if post is None:
        raise HTTPException(status_code=404, detail="Post not found")
    return post

@router.put("/{post_id}", response_model=schemas.Post)
def update_post(post_id: int, post: schemas.PostCreate, db: Session = Depends(get_db)):
    db_post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if db_post is None:
        raise HTTPException(status_code=404, detail="Post not found")
    
    for key, value in post.model_dump().items():
        setattr(db_post, key, value)
    
    db.commit()
    db.refresh(db_post)
    return db_post

@router.delete("/{post_id}", status_code=status.HTTP_204_NO_CONTENT)
def delete_post(post_id: int, db: Session = Depends(get_db)):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if post is None:
        raise HTTPException(status_code=404, detail="Post not found")
    
    db.delete(post)
    db.commit()
    return None ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/schemas.py]
```from pydantic import BaseModel
from datetime import datetime
from typing import Optional

class PostBase(BaseModel):
    title: str
    content: str
    author: str

class PostCreate(PostBase):
    pass

class Post(PostBase):
    id: int
    created_at: datetime
    updated_at: Optional[datetime] = None

    class Config:
        from_attributes = True ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/static/css/style.css]
```:root {
    --primary-color: #2563eb;    /* ë” ë°ì€ ë¸”ë£¨ */
    --secondary-color: #1e40af;  /* ë” ì§„í•œ ë¸”ë£¨ */
    --success-color: #16a34a;    /* ê·¸ë¦° */
    --warning-color: #f59e0b;    /* ì˜¤ë Œì§€ */
    --danger-color: #dc2626;     /* ë ˆë“œ */
    --light-bg: #f8fafc;         /* ì—°í•œ ê·¸ë ˆì´ */
    --text-color: #1e293b;       /* ì§„í•œ ê·¸ë ˆì´ */
    --border-color: #e2e8f0;    /* ì—°í•œ ê·¸ë ˆì´ */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
}

/* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë¦¬ì…‹ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--light-bg);
}

.container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 2rem;
}

/* í—¤ë” ìŠ¤íƒ€ì¼ */
.header {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: var(--shadow-md);
    margin-bottom: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid var(--border-color);
}

.header h1 {
    color: var(--primary-color);
    font-size: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.025em;
}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
    gap: 0.5rem;
    box-shadow: var(--shadow-sm);
}

.button:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.button-primary {
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    color: white;
}

.button-success {
    background: linear-gradient(45deg, var(--success-color), #15803d);
    color: white;
}

.button-danger {
    background: linear-gradient(45deg, var(--danger-color), #b91c1c);
    color: white;
}

/* ê²Œì‹œê¸€ ëª©ë¡ ìŠ¤íƒ€ì¼ */
.post-list {
    background: white;
    border-radius: 12px;
    box-shadow: var(--shadow-md);
    overflow: hidden;
    border: 1px solid var(--border-color);
}

.post-item {
    padding: 1.5rem;
    border-bottom: 1px solid var(--border-color);
    transition: all 0.2s ease;
}

.post-item:hover {
    background-color: var(--light-bg);
    transform: translateX(4px);
}

.post-title {
    font-size: 1.125rem;
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 600;
    transition: color 0.2s ease;
}

.post-title:hover {
    color: var(--secondary-color);
}

.post-meta {
    font-size: 14px;
    color: #7f8c8d;
    margin-top: 5px;
}

/* í¼ ìŠ¤íƒ€ì¼ */
.form-group {
    margin-bottom: 1.5rem;
}

.form-label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-color);
    font-weight: 500;
}

.form-control {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 1rem;
    transition: all 0.2s ease;
    background: white;
}

.form-control:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

textarea.form-control {
    min-height: 200px;
    resize: vertical;
}

/* í˜ì´ì§€ë„¤ì´ì…˜ ìŠ¤íƒ€ì¼ */
.pagination {
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    gap: 0.5rem;
}

.page-link {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    color: var(--text-color);
    text-decoration: none;
    transition: all 0.2s ease;
}

.page-link:hover {
    background-color: var(--light-bg);
}

.page-link.active {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

/* ê²€ìƒ‰ í¼ ìŠ¤íƒ€ì¼ */
.search-form {
    margin-bottom: 30px;
    display: flex;
    gap: 10px;
}

.search-input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
}

/* ì• ë‹ˆë©”ì´ì…˜ */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.post-item {
    animation: fadeIn 0.3s ease forwards;
}

/* ë°˜ì‘í˜• ë””ìì¸ */
@media (max-width: 768px) {
    .container {
        padding: 1rem;
    }
    
    .header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .post-title {
        font-size: 1rem;
    }
    
    .button {
        width: 100%;
        margin: 0.25rem 0;
    }
}

/* ì—ëŸ¬ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
.error-message {
    background-color: #ffeaea;
    color: #e74c3c;
    padding: 10px;
    border-radius: 4px;
    margin-bottom: 20px;
    border: 1px solid #ffd0d0;
}

/* ìƒì„¸ ë³´ê¸° í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
.post-detail {
    background-color: #fff;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.post-content {
    margin: 20px 0;
    line-height: 1.8;
    white-space: pre-wrap;
}

.post-actions {
    margin-top: 30px;
    display: flex;
    gap: 10px;
}

@media (max-width: 480px) {
    .post-actions {
        flex-direction: column;
    }
} ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/templates/base.html]
```<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ê²Œì‹œíŒ{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cssLink = document.querySelector('link[href*="style.css"]');
            console.log('CSS íŒŒì¼ ê²½ë¡œ:', cssLink.href);
            
            // CSS íŒŒì¼ ë¡œë“œ ìƒíƒœ í™•ì¸
            const styleSheets = document.styleSheets;
            for (let i = 0; i < styleSheets.length; i++) {
                try {
                    const href = styleSheets[i].href;
                    console.log('ë¡œë“œëœ ìŠ¤íƒ€ì¼ì‹œíŠ¸:', href);
                } catch (e) {
                    console.log('ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì ‘ê·¼ ì˜¤ë¥˜:', e);
                }
            }
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ê²Œì‹œíŒ</h1>
            <nav class="nav-buttons">
                <a href="/" class="btn btn-primary me-2">
                    <i class="fas fa-home"></i> í™ˆ
                </a>
                <a href="/write" class="btn btn-success">
                    <i class="fas fa-pen"></i> ê¸€ì“°ê¸°
                </a>
            </nav>
        </header>
        
        <main>
            {% block content %}
            {% endblock %}
        </main>
    </div>
</body>
</html> ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/templates/create.html]
```{% extends "base.html" %}

{% block title %}ê¸€ì“°ê¸°{% endblock %}

{% block content %}
<div class="post-detail card">
    <div class="card-body">
        <h2 class="card-title mb-4">ê¸€ì“°ê¸°</h2>
        
        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}
        
        <form method="post" action="/write" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-8 mb-3">
                    <label class="form-label" for="title">ì œëª©</label>
                    <input type="text" id="title" name="title" class="form-control" required value="{{ title if title }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label" for="category">ì¹´í…Œê³ ë¦¬</label>
                    <select name="category" id="category" class="form-select" required>
                        <option value="ì¼ë°˜">ì¼ë°˜</option>
                        <option value="ê³µì •">ê³µì •</option>
                        <option value="ê²€ì‚¬">ê²€ì‚¬</option>
                        <option value="í’ˆì§ˆ">í’ˆì§ˆ</option>
                    </select>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="product_name">ì œí’ˆëª…</label>
                    <input type="text" id="product_name" name="product_name" class="form-control">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="process_step">ê³µì • ë‹¨ê³„</label>
                    <input type="text" id="process_step" name="process_step" class="form-control">
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="content">ë‚´ìš©</label>
                <textarea id="content" name="content" class="form-control" rows="10" required>{{ content if content }}</textarea>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="author">ì‘ì„±ì</label>
                    <input type="text" id="author" name="author" class="form-control" required value="{{ author if author }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="status">ìƒíƒœ</label>
                    <select name="status" id="status" class="form-select">
                        {% for status in ProcessStatus %}
                        <option value="{{ status.value }}">{{ status.value }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="attachment">ì²¨ë¶€ íŒŒì¼</label>
                <input type="file" id="attachment" name="attachment" class="form-control">
            </div>
            
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-success">
                    <i class="fas fa-save"></i> ì €ì¥
                </button>
                <a href="/" class="btn btn-secondary">
                    <i class="fas fa-times"></i> ì·¨ì†Œ
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %} ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/templates/detail.html]
```{% extends "base.html" %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="post-detail card">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-3">
            <h2 class="card-title">{{ post.title }}</h2>
            <span class="badge bg-{{ post.status.value | status_color }}">{{ post.status.value }}</span>
        </div>
        
        <div class="post-meta text-muted mb-4">
            <div class="row">
                <div class="col-md-6">
                    <p><i class="fas fa-user"></i> ì‘ì„±ì: {{ post.author }}</p>
                    <p><i class="far fa-clock"></i> ì‘ì„±ì¼: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
                    {% if post.updated_at %}
                    <p><i class="fas fa-edit"></i> ìˆ˜ì •ì¼: {{ post.updated_at.strftime('%Y-%m-%d %H:%M') }}</p>
                    {% endif %}
                </div>
                <div class="col-md-6">
                    {% if post.category %}
                    <p><i class="fas fa-tag"></i> ì¹´í…Œê³ ë¦¬: {{ post.category }}</p>
                    {% endif %}
                    {% if post.product_name %}
                    <p><i class="fas fa-box"></i> ì œí’ˆëª…: {{ post.product_name }}</p>
                    {% endif %}
                    {% if post.process_step %}
                    <p><i class="fas fa-tasks"></i> ê³µì • ë‹¨ê³„: {{ post.process_step }}</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="post-content card mb-4">
            <div class="card-body">
                {{ post.content | replace('\n', '<br>') | safe }}
            </div>
        </div>

        {% if post.attachment_path %}
        <div class="mb-4">
            <h5><i class="fas fa-paperclip"></i> ì²¨ë¶€ íŒŒì¼</h5>
            <a href="/download/{{ post.id }}" class="btn btn-outline-primary btn-sm">
                <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
            </a>
        </div>
        {% endif %}
        
        <div class="post-actions">
            <a href="/edit/{{ post.id }}" class="btn btn-primary">
                <i class="fas fa-edit"></i> ìˆ˜ì •
            </a>
            <form action="/delete/{{ post.id }}" method="post" style="display: inline;">
                <button type="submit" class="btn btn-danger" onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">
                    <i class="fas fa-trash"></i> ì‚­ì œ
                </button>
            </form>
            <a href="/" class="btn btn-secondary">
                <i class="fas fa-list"></i> ëª©ë¡
            </a>
        </div>
    </div>
</div>
{% endblock %} ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/templates/edit.html]
```{% extends "base.html" %}

{% block title %}ê²Œì‹œê¸€ ìˆ˜ì •{% endblock %}

{% block content %}
<div class="post-detail card">
    <div class="card-body">
        <h2 class="card-title mb-4">ê²Œì‹œê¸€ ìˆ˜ì •</h2>
        
        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}
        
        <form method="post" action="/edit/{{ post.id }}" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-8 mb-3">
                    <label class="form-label" for="title">ì œëª©</label>
                    <input type="text" id="title" name="title" class="form-control" required value="{{ post.title }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label" for="category">ì¹´í…Œê³ ë¦¬</label>
                    <select name="category" id="category" class="form-select" required>
                        {% for cat in ["ì¼ë°˜", "ê³µì •", "ê²€ì‚¬", "í’ˆì§ˆ"] %}
                        <option value="{{ cat }}" {% if post.category == cat %}selected{% endif %}>{{ cat }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="product_name">ì œí’ˆëª…</label>
                    <input type="text" id="product_name" name="product_name" class="form-control" value="{{ post.product_name }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="process_step">ê³µì • ë‹¨ê³„</label>
                    <input type="text" id="process_step" name="process_step" class="form-control" value="{{ post.process_step }}">
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="content">ë‚´ìš©</label>
                <textarea id="content" name="content" class="form-control" rows="10" required>{{ post.content }}</textarea>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="author">ì‘ì„±ì</label>
                    <input type="text" id="author" name="author" class="form-control" required value="{{ post.author }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label" for="status">ìƒíƒœ</label>
                    <select name="status" id="status" class="form-select">
                        {% for status in ProcessStatus %}
                        <option value="{{ status.value }}" {% if post.status.value == status.value %}selected{% endif %}>
                            {{ status.value }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="attachment">ì²¨ë¶€ íŒŒì¼</label>
                {% if post.attachment_path %}
                <div class="mb-2">
                    <span class="text-muted">í˜„ì¬ íŒŒì¼: {{ post.attachment_path.split('/')[-1] }}</span>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="delete_attachment" name="delete_attachment">
                        <label class="form-check-label" for="delete_attachment">
                            íŒŒì¼ ì‚­ì œ
                        </label>
                    </div>
                </div>
                {% endif %}
                <input type="file" id="attachment" name="attachment" class="form-control">
            </div>
            
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-success">
                    <i class="fas fa-save"></i> ì €ì¥
                </button>
                <a href="/view/{{ post.id }}" class="btn btn-secondary">
                    <i class="fas fa-times"></i> ì·¨ì†Œ
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %} ```
==================================================

[íŒŒì¼ ê²½ë¡œ: app/templates/index.html]
```{% extends "base.html" %}

{% block content %}
<div class="search-form card mb-4">
    <div class="card-body">
        <form method="get" action="/" class="row g-3">
            <div class="col-md-3">
                <input type="text" name="search" class="form-control" 
                       placeholder="ì œëª©/ë‚´ìš© ê²€ìƒ‰" value="{{ search if search }}">
            </div>
            <div class="col-md-2">
                <select name="category" class="form-select">
                    <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                    <option value="ê³µì •">ê³µì •</option>
                    <option value="ê²€ì‚¬">ê²€ì‚¬</option>
                    <option value="í’ˆì§ˆ">í’ˆì§ˆ</option>
                </select>
            </div>
            <div class="col-md-2">
                <select name="status" class="form-select">
                    <option value="">ìƒíƒœ ì„ íƒ</option>
                    {% for status in ProcessStatus %}
                    <option value="{{ status.value }}">{{ status.value }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-primary w-100">
                    <i class="fas fa-search"></i> ê²€ìƒ‰
                </button>
            </div>
        </form>
    </div>
</div>

<div class="post-list">
    {% for post in posts %}
    <div class="post-item card mb-3">
        <div class="card-body">
            <div class="d-flex justify-content-between align-items-start">
                <div>
                    <a href="/view/{{ post.id }}" class="post-title h5 mb-2">{{ post.title }}</a>
                    <div class="post-meta text-muted small">
                        <span><i class="fas fa-user"></i> {{ post.author }}</span>
                        <span class="ms-2"><i class="far fa-clock"></i> {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
                        {% if post.category %}
                        <span class="ms-2"><i class="fas fa-tag"></i> {{ post.category }}</span>
                        {% endif %}
                    </div>
                </div>
                <div>
                    {% if post.status %}
                    <span class="badge bg-{{ post.status.value | status_color }}">{{ post.status.value }}</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="alert alert-info">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div>
    {% endfor %}
</div>

<div class="pagination">
    {% if page > 1 %}
    <a href="/?page={{ page - 1 }}&search={{ search }}&author={{ author }}" class="page-link">&laquo; ì´ì „</a>
    {% endif %}
    
    {% for p in range(1, total_pages + 1) %}
    <a href="/?page={{ p }}&search={{ search }}&author={{ author }}" 
       class="page-link {% if p == page %}active{% endif %}">
        {{ p }}
    </a>
    {% endfor %}
    
    {% if page < total_pages %}
    <a href="/?page={{ page + 1 }}&search={{ search }}&author={{ author }}" class="page-link">ë‹¤ìŒ &raquo;</a>
    {% endif %}
</div>
{% endblock %} ```
==================================================

[íŒŒì¼ ê²½ë¡œ: main.py]
```from typing import Optional
from fastapi import FastAPI, Request, Form, HTTPException, Depends, UploadFile, File  # type: ignore
from fastapi.templating import Jinja2Templates  # type: ignore
from fastapi.staticfiles import StaticFiles  # type: ignore
from fastapi.responses import RedirectResponse, FileResponse  # type: ignore
from fastapi.middleware.cors import CORSMiddleware  # type: ignore
from fastapi.encoders import jsonable_encoder  # type: ignore
from sqlalchemy.orm import Session  # type: ignore
from sqlalchemy import text  # ì¶”ê°€ëœ ë¶€ë¶„
from app.routers import posts
from app.database import engine, get_db, SessionLocal
from app import models  # type: ignore
import math
from pathlib import Path
import shutil
import uuid
import os

# ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„±
models.Base.metadata.create_all(bind=engine)

app = FastAPI(
    title="ê²Œì‹œíŒ API",
    description="FastAPIë¥¼ ì´ìš©í•œ ê²Œì‹œíŒ CRUD API",
    version="1.0.0"
)

# CORS ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:8000"],  # ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” êµ¬ì²´ì ì¸ ë„ë©”ì¸ ì§€ì •
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE"],
    allow_headers=["*"],
)

# ì •ì  íŒŒì¼ê³¼ í…œí”Œë¦¿ ì„¤ì •
BASE_DIR = Path(__file__).resolve().parent
static_dir = BASE_DIR / "app" / "static"

# ë””ë²„ê¹…ì„ ìœ„í•œ ì¶œë ¥ ì¶”ê°€
print("="*50)
print(f"Current working directory: {Path.cwd()}")
print(f"Base directory: {BASE_DIR}")
print(f"Static directory path: {static_dir}")
print(f"Static directory exists: {static_dir.exists()}")
print(f"CSS file exists: {(static_dir / 'css' / 'style.css').exists()}")
print("="*50)

if not static_dir.exists():
    raise RuntimeError(f"Static directory not found: {static_dir}")

app.mount("/static", StaticFiles(directory=str(static_dir)), name="static")

template_dir = BASE_DIR / "app" / "templates"
if not template_dir.exists():
    raise RuntimeError(f"Template directory not found: {template_dir}")
templates = Jinja2Templates(directory=str(template_dir))

# API ë¼ìš°í„° í¬í•¨
app.include_router(posts.router)

# ìƒíƒœë³„ ìƒ‰ìƒ ë§¤í•‘ì„ ìœ„í•œ í…œí”Œë¦¿ í•„í„°
def status_color(status):
    color_map = {
        "ëŒ€ê¸°": "secondary",
        "ì§„í–‰ì¤‘": "primary",
        "ì™„ë£Œ": "success",
        "ë¬¸ì œë°œìƒ": "danger"
    }
    return color_map.get(status, "secondary")

# Jinja2 í…œí”Œë¦¿ì— í•„í„° ì¶”ê°€
templates.env.filters["status_color"] = status_color

@app.get("/")
async def home(
    request: Request,
    search: str = None,
    author: str = None,
    category: str = None,
    status: str = None,
    page: int = 1,
    db: Session = Depends(get_db)
):
    per_page = 10
    query = db.query(models.Post)
    
    # ê²€ìƒ‰ ì¡°ê±´ ì ìš©
    if search:
        query = query.filter(
            models.Post.title.contains(search) | 
            models.Post.content.contains(search)
        )
    if author:
        query = query.filter(models.Post.author.contains(author))
    if category:
        query = query.filter(models.Post.category == category)
    if status:
        query = query.filter(models.Post.status == status)
    
    total_posts = query.count()
    total_pages = math.ceil(total_posts / per_page) if total_posts > 0 else 1
    
    posts = query.order_by(models.Post.created_at.desc())\
                .offset((page - 1) * per_page)\
                .limit(per_page)\
                .all()
    
    return templates.TemplateResponse(
        "index.html",
        {
            "request": request,
            "posts": posts,
            "page": page,
            "total_pages": total_pages,
            "search": search or "",
            "author": author or "",
            "category": category or "",
            "status": status or "",
            "ProcessStatus": models.ProcessStatus
        }
    )

@app.get("/write")
async def create_post_form(request: Request):
    return templates.TemplateResponse("create.html", {"request": request})

@app.post("/write")
async def create_post(
    request: Request,
    title: str = Form(...),
    content: str = Form(...),
    author: str = Form(...),
    category: str = Form(...),
    product_name: str = Form(None),
    process_step: str = Form(None),
    status: str = Form(...),
    attachment: UploadFile = File(None),
    db: Session = Depends(get_db)
):
    try:
        # íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        attachment_path = None
        if attachment and attachment.filename:
            file_extension = attachment.filename.split(".")[-1]
            unique_filename = f"{uuid.uuid4()}.{file_extension}"
            file_path = f"uploads/{unique_filename}"
            
            # uploads ë””ë ‰í† ë¦¬ê°€ ì—†ìœ¼ë©´ ìƒì„±
            os.makedirs("uploads", exist_ok=True)
            
            with open(file_path, "wb") as buffer:
                shutil.copyfileobj(attachment.file, buffer)
            attachment_path = file_path
        
        # ê²Œì‹œê¸€ ìƒì„±
        post = models.Post(
            title=title.strip(),
            content=content.strip(),
            author=author.strip(),
            category=category,
            product_name=product_name,
            process_step=process_step,
            status=status,
            attachment_path=attachment_path
        )
        
        db.add(post)
        db.commit()
        db.refresh(post)
        
        return RedirectResponse(url="/", status_code=302)
        
    except Exception as e:
        db.rollback()
        return templates.TemplateResponse(
            "create.html",
            {
                "request": request,
                "error": str(e),
                "title": title,
                "content": content,
                "author": author,
                "ProcessStatus": models.ProcessStatus
            },
            status_code=400
        )

@app.get("/view/{post_id}")
async def view_post(request: Request, post_id: int, db: Session = Depends(get_db)):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if post is None:
        return RedirectResponse(url="/", status_code=302)
    return templates.TemplateResponse("detail.html", {"request": request, "post": post})

@app.get("/edit/{post_id}")
async def edit_post_form(request: Request, post_id: int, db: Session = Depends(get_db)):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if post is None:
        return RedirectResponse(url="/", status_code=302)
    return templates.TemplateResponse("edit.html", {"request": request, "post": post})

@app.post("/edit/{post_id}")
async def edit_post(
    request: Request,
    post_id: int,
    title: str = Form(...),
    content: str = Form(...),
    author: str = Form(...),
    category: str = Form(...),
    product_name: str = Form(None),
    process_step: str = Form(None),
    status: str = Form(...),
    attachment: UploadFile = File(None),
    delete_attachment: bool = Form(False),
    db: Session = Depends(get_db)
):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if post is None:
        raise HTTPException(status_code=404, detail="ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    
    try:
        # ì²¨ë¶€ íŒŒì¼ ì²˜ë¦¬
        if delete_attachment and post.attachment_path:
            if os.path.exists(post.attachment_path):
                os.remove(post.attachment_path)
            post.attachment_path = None
        
        if attachment and attachment.filename:
            # ê¸°ì¡´ íŒŒì¼ ì‚­ì œ
            if post.attachment_path and os.path.exists(post.attachment_path):
                os.remove(post.attachment_path)
            
            # ìƒˆ íŒŒì¼ ì—…ë¡œë“œ
            file_extension = attachment.filename.split(".")[-1]
            unique_filename = f"{uuid.uuid4()}.{file_extension}"
            file_path = f"uploads/{unique_filename}"
            
            os.makedirs("uploads", exist_ok=True)
            with open(file_path, "wb") as buffer:
                shutil.copyfileobj(attachment.file, buffer)
            post.attachment_path = file_path
        
        # ê²Œì‹œê¸€ ì •ë³´ ì—…ë°ì´íŠ¸
        post.title = title.strip()
        post.content = content.strip()
        post.author = author.strip()
        post.category = category
        post.product_name = product_name
        post.process_step = process_step
        post.status = status
        
        db.commit()
        return RedirectResponse(url=f"/view/{post_id}", status_code=302)
        
    except Exception as e:
        db.rollback()
        return templates.TemplateResponse(
            "edit.html",
            {
                "request": request,
                "error": str(e),
                "post": post,
                "ProcessStatus": models.ProcessStatus
            },
            status_code=400
        )

@app.post("/delete/{post_id}")
async def delete_post(post_id: int, db: Session = Depends(get_db)):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if post:
        db.delete(post)
        db.commit()
    return RedirectResponse(url="/", status_code=302)

@app.post("/upload")
async def upload_file(file: UploadFile = File(...)):
    file_extension = file.filename.split(".")[-1]
    unique_filename = f"{uuid.uuid4()}.{file_extension}"
    file_path = f"uploads/{unique_filename}"
    
    with open(file_path, "wb") as buffer:
        shutil.copyfileobj(file.file, buffer)
    
    return {"filename": unique_filename, "path": file_path}

@app.get("/download/{post_id}")
async def download_file(post_id: int, db: Session = Depends(get_db)):
    post = db.query(models.Post).filter(models.Post.id == post_id).first()
    if not post or not post.attachment_path:
        raise HTTPException(status_code=404, detail="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    
    if not os.path.exists(post.attachment_path):
        raise HTTPException(status_code=404, detail="íŒŒì¼ì´ ì„œë²„ì— ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
    
    return FileResponse(
        post.attachment_path,
        filename=os.path.basename(post.attachment_path),
        media_type='application/octet-stream'
    )

# ì•± ì‹œì‘ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
@app.on_event("startup")
async def startup_event():
    db = None
    try:
        # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
        db = SessionLocal()
        db.execute(text("SELECT 1"))  # text() í•¨ìˆ˜ ì‚¬ìš©
    except Exception as e:
        print(f"ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨: {e}")
        raise e
    finally:
        if db:
            db.close() ```
==================================================

[íŒŒì¼ ê²½ë¡œ: readme.md]
```# FastAPI ê²Œì‹œíŒ API

FastAPIì™€ SQLiteë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ ê²Œì‹œíŒ API ì„œë²„ì…ë‹ˆë‹¤.

## ê¸°ëŠ¥
- ê²Œì‹œê¸€ ì‘ì„±
- ê²Œì‹œê¸€ ì¡°íšŒ (ëª©ë¡/ìƒì„¸)
- ê²Œì‹œê¸€ ìˆ˜ì •
- ê²Œì‹œê¸€ ì‚­ì œ

## ì„¤ì¹˜ ë° ì‹¤í–‰

1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

2. íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

3. ì„œë²„ ì‹¤í–‰
```bash
uvicorn main:app --reload
```

## API ë¬¸ì„œ
- Swagger UI: http://127.0.0.1:8000/docs
- ReDoc: http://127.0.0.1:8000/redoc
```
==================================================

[íŒŒì¼ ê²½ë¡œ: requirements.txt]
```fastapi==0.104.1
uvicorn==0.24.0
sqlalchemy==2.0.23
pydantic==2.5.2
python-multipart==0.0.6
python-jose==3.3.0
passlib==1.7.4
bcrypt==4.0.1
python-dotenv==1.0.0
jinja2==3.1.2
aiofiles==23.2.1 ```
==================================================
